 {% extends "shop/product/index.html" %}
{% load static %}

{% block title %}
  {{ product.name }}
{% endblock %}

{% block content %}
  <div class="small-container product-detail">
        <div class="row">
            <div class="col-2">
                <img src="{{ product.image.url }}" width="100%" id="ProductImg">

                <div class="small-img-row">
                    <div class="small-img-col">

                      <img src="{{ product.image.url }}" width="100%" class="small-img">
                    </div>
                    {% for img in images %}
                    <div class="small-img-col">
                        <img src="{{img.image.url}}" width="100%" class="small-img">
                    </div>
                    {% endfor %}
                </div>
            </div>
            <div class="col-2">
                <p><a href="/">Home</a> / <a href="{{ product.category.get_absolute_url }}">{{ product.category }}</a></p>
                <h1>{{ product.name }}</h1>
                <h4>${{ product.price }}</h4>

                <form action="{% url "cart:cart_add" product.id %}" method="post" id="post-form">
                    {% csrf_token %}
                    <input type="hidden" name="productid" id="productid" value="{{ product.id }}">

                    {% if product.variant == 'None' %}
                     {{ cart_product_form }}
                    <button type="submit" value="Add to cart" class="btn">Add to cart</button>

                    {% elif product.variant == 'Size-Color' %}
                    <select name='size' id="size">
                        <option>Size:</option>
                        {% for itm in sizes %}
                        <option value="{{itm.size_id}}">{{itm.sizes.name}}</option>
                        {% endfor %}
                    </select>
                    <ul>
                        {% for itm in color %}
                        <input type="radio" name="color" value="{{ itm.id }}">
                        <li >
                            <a href="#" style="background-color:{{ itm.color.code }}; color: #ffffff; text-shadow: 2px 2px #000000; width: 70px">
                            {{ itm.color }} ${{ itm.price }}
                            </a>
                            <img src="{{ itm.image }}" style="height: 70px">
                        </li>
                        {% endfor %}
                    </ul>
                     {{ cart_product_form }}
                    <button type="submit" value="Add to cart" class="btn">Add to cart</button>

                    {% elif product.variant == 'Size' %}
                    <select name='size' id="size">
                        <option>Size:</option>
                        {% for itm in size %}
                        <option value="{{itm.size_id}}">{{itm.size.name}}</option>
                        {% endfor %}
                    </select>
                     {{ cart_product_form }}
                    <button type="submit" value="Add to cart" class="btn">Add to cart</button>

                    {% elif product.variant == 'Color' %}
                     <ul>
                        {% for itm in color %}
                        <input type="radio" name="color" value="{{ itm.id }}">
                        <li >
                            <a href="#" style="background-color:{{ itm.color.code }}; color: #ffffff; text-shadow: 2px 2px #000000; width: 70px">
                            {{ itm.color }} ${{ itm.price }}
                            </a>
                            <img src="{{ itm.image }}" style="height: 70px">
                        </li>
                        {% endfor %}
                    </ul>
                     {{ cart_product_form }}
                    <button type="submit" value="Add to cart" class="btn">Add to cart</button>
                    {% endif %}
                </form>
                <h3>Product Details</h3><br>
                <p>{{ product.description|linebreaks }}</p>
            </div>
        </div>
    </div>

    <div class="small-container">
        <div class="row row-2">
            <h3>People who bought this also bougth</h3>
        </div>
    </div>

    <div class="small-container">
        <div class="row">
            <div class="col-4">
                <img src="{% static "img/product-1.jpg" %}">
                <h4>Red Printed T-Shirt</h4>
                <div class="ratting">
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star"></i>
                    <i class="fa fa-star-half-o"></i>
                </div>
                <p>$50.00</p>
            </div>
        </div>   
    </div>
    <script>
        var ProductImg = document.getElementById("ProductImg");
        var SmallImg = document.getElementsByClassName("small-img");

            SmallImg[0].onclick = function(){
                ProductImg.src = SmallImg[0].src;
            }
            SmallImg[1].onclick = function(){
                ProductImg.src = SmallImg[1].src;
            }
            SmallImg[2].onclick = function(){
                ProductImg.src = SmallImg[2].src;
            }
            SmallImg[3].onclick = function(){
                ProductImg.src = SmallImg[3].src;
            }
    </script>
{% endblock %}
